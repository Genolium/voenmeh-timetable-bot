#!/usr/bin/env python3
"""
–¢–µ—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞—Å—á–µ—Ç–∞ –Ω–æ–º–µ—Ä–∞ –Ω–µ–¥–µ–ª–∏ —Å –Ω–∞—á–∞–ª–∞ —Å–µ–º–µ—Å—Ç—Ä–∞.
"""

from datetime import date

from bot.text_formatters import calculate_semester_week_number_fallback as calculate_semester_week_number


def test_week_calculation():
    """–¢–µ—Å—Ç–∏—Ä—É–µ–º —Ñ—É–Ω–∫—Ü–∏—é calculate_semester_week_number"""

    test_cases = [
        # (–¥–∞—Ç–∞, –æ–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç)
        (date(2024, 9, 1), 1),  # 1 —Å–µ–Ω—Ç—è–±—Ä—è - –Ω–µ–¥–µ–ª—è 1
        (date(2024, 9, 7), 1),  # 7 —Å–µ–Ω—Ç—è–±—Ä—è - –µ—â–µ –Ω–µ–¥–µ–ª—è 1
        (date(2024, 9, 8), 2),  # 8 —Å–µ–Ω—Ç—è–±—Ä—è - –Ω–µ–¥–µ–ª—è 2
        (date(2024, 9, 15), 2),  # 15 —Å–µ–Ω—Ç—è–±—Ä—è - –µ—â–µ –Ω–µ–¥–µ–ª—è 2
        (date(2024, 9, 16), 3),  # 16 —Å–µ–Ω—Ç—è–±—Ä—è - –Ω–µ–¥–µ–ª—è 3
        (date(2024, 12, 31), 17),  # –ö–æ–Ω–µ—Ü –¥–µ–∫–∞–±—Ä—è - –ø—Ä–∏–º–µ—Ä–Ω–æ –Ω–µ–¥–µ–ª—è 17
        (date(2025, 1, 1), 18),  # 1 —è–Ω–≤–∞—Ä—è - –Ω–µ–¥–µ–ª—è 18
        (date(2025, 8, 31), 52),  # 31 –∞–≤–≥—É—Å—Ç–∞ - –Ω–æ —Ñ—É–Ω–∫—Ü–∏—è –¥–æ–ª–∂–Ω–∞ –æ–≥—Ä–∞–Ω–∏—á–∏—Ç—å –¥–æ 32
        (date(2024, 8, 31), 1),  # 31 –∞–≤–≥—É—Å—Ç–∞ - –¥–æ –Ω–∞—á–∞–ª–∞ —Å–µ–º–µ—Å—Ç—Ä–∞, –Ω–µ–¥–µ–ª—è 1
    ]

    print("üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ calculate_semester_week_number:")
    print("=" * 60)

    for test_date, expected in test_cases:
        result = calculate_semester_week_number(test_date)
        status = "‚úÖ" if result == expected else "‚ùå"
        print("<20")

    print("\n" + "=" * 60)
    print("–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ!")


if __name__ == "__main__":
    test_week_calculation()
