<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ ‚Äî {{ '–ù–µ—á—ë—Ç–Ω–∞—è –Ω–µ–¥–µ–ª—è' if week_slug=='odd' else '–ß—ë—Ç–Ω–∞—è –Ω–µ–¥–µ–ª—è' }}: {{ group }}</title>
  <style>
    /* --- 1. –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —à—Ä–∏—Ñ—Ç–æ–≤ --- */
    /* –≠—Ç–æ—Ç –±–ª–æ–∫ –∑–∞–≥—Ä—É–∂–∞–µ—Ç –≤—Å–µ —à—Ä–∏—Ñ—Ç—ã, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –≤ –¥–∏–∑–∞–π–Ω–µ. */
    /* font-display: swap; –Ω—É–∂–µ–Ω –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã —Ç–µ–∫—Å—Ç –±—ã–ª –≤–∏–¥–µ–Ω —Å—Ä–∞–∑—É, –Ω–µ –¥–æ–∂–∏–¥–∞—è—Å—å –∑–∞–≥—Ä—É–∑–∫–∏ –∫–∞—Å—Ç–æ–º–Ω–æ–≥–æ —à—Ä–∏—Ñ—Ç–∞. */
    @font-face { font-family: 'Segoe UI'; src: url('{{ assets_base }}/fonts/SegoeUI.ttf') format('truetype'); font-weight: 400; font-style: normal; font-display: swap; }
    @font-face { font-family: 'Segoe UI'; src: url('{{ assets_base }}/fonts/SegoeUI-Bold.ttf') format('truetype'); font-weight: 700; font-style: normal; font-display: swap; }
    @font-face { font-family: 'Segoe UI'; src: url('{{ assets_base }}/fonts/SegoeUI-Light.ttf') format('truetype'); font-weight: 300; font-style: normal; font-display: swap; }
    @font-face { font-family: 'Saira'; src: url('{{ assets_base }}/fonts/Saira.ttf') format('truetype'); font-weight: 700; font-style: normal; font-display: swap; }

    /* --- 2. –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏ —Ü–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞ (–¢–µ–º–∏–∑–∞—Ü–∏—è) --- */
    /* :root ‚Äî —ç—Ç–æ –∫–æ—Ä–Ω–µ–≤–æ–π —ç–ª–µ–º–µ–Ω—Ç –¥–æ–∫—É–º–µ–Ω—Ç–∞. –ó–¥–µ—Å—å –º—ã –æ–±—ä—è–≤–ª—è–µ–º CSS-–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è —É–¥–æ–±–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ü–≤–µ—Ç–∞–º–∏. */
    :root {
      /* üé® –°–¢–ê–ù–î–ê–†–¢–ù–ê–Ø —Ç–µ–º–∞ (–∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö Figma) */
      --standard-odd-bg: #ff2f00;         /* Orange */
      --standard-odd-accent: #ff2f00;     /* Orange */
      --standard-odd-badge-bg: #ff656f;   /* Vibe Red */
      --standard-odd-card-bg: #fffffe;    /* White */
      --standard-even-bg: #6555f0;        /* Purple */
      --standard-even-accent: #6555f0;    /* Purple */
      --standard-even-badge-bg: #776aef;  /* Vibe Purple */
      --standard-even-card-bg: #fffffe;   /* White */

      /* ‚òÄÔ∏è –°–í–ï–¢–õ–ê–Ø —Ç–µ–º–∞ (–∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö Figma) */
      --light-odd-bg: #078080;            /* Emerald */
      --light-odd-accent: #078080;        /* Emerald */
      --light-odd-badge-bg: #078080;      /* Emerald */
      --light-odd-card-bg: #f9f5f2;       /* Semi Light Blue */
      --light-even-bg: #078080;           /* Emerald */
      --light-even-accent: #078080;       /* Emerald */
      --light-even-badge-bg: #078080;     /* Emerald */
      --light-even-card-bg: #f9f5f2;      /* Semi Light Blue */

      /* üåô –¢–Å–ú–ù–ê–Ø —Ç–µ–º–∞ (–∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö Figma) */
      --dark-odd-bg: #020826;             /* Deep Dark Blue */
      --dark-odd-accent: #6555f0;         /* Purple */
      --dark-odd-badge-bg: #fffffe;       /* White */
      --dark-odd-card-bg: #16161a;        /* Dark Grey */
      --dark-even-bg: #020826;            /* Deep Dark Blue */
      --dark-even-accent: #6555f0;        /* Purple */
      --dark-even-badge-bg: #fffffe;      /* White */
      --dark-even-card-bg: #16161a;       /* Dark Grey */

      /* üìú –ö–õ–ê–°–°–ò–ß–ï–°–ö–ê–Ø —Ç–µ–º–∞ (–∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö Figma) */
      --classic-odd-bg: #243c6a;          /* Deep Blue */
      --classic-odd-accent: #243c6a;      /* Deep Blue */
      --classic-odd-badge-bg: #ffffff;    /* White */
      --classic-odd-card-bg: #37486e;     /* Blue */
      --classic-even-bg: #243c6a;         /* Deep Blue */
      --classic-even-accent: #243c6a;     /* Deep Blue */
      --classic-even-badge-bg: #ffffff;   /* White */
      --classic-even-card-bg: #37486e;    /* Blue */

      /* ‚òï –ö–û–§–ï–ô–ù–ê–Ø —Ç–µ–º–∞ (–∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö Figma) */
      --coffee-odd-bg: #8c7851;           /* Light Coffee */
      --coffee-odd-accent: #8c7851;       /* Light Coffee */
      --coffee-odd-badge-bg: #8c7851;     /* Light Coffee */
      --coffee-odd-card-bg: #eaddcf;      /* Coffee BG */
      --coffee-even-bg: #8c7851;          /* Light Coffee */
      --coffee-even-accent: #8c7851;      /* Light Coffee */
      --coffee-even-badge-bg: #8c7851;    /* Light Coffee */
      --coffee-even-card-bg: #eaddcf;     /* Coffee BG */

      /* –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ç–µ–∫—Å—Ç–æ–≤—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –ø–æ —Ç–µ–º–∞–º */
      /* STANDARD: –∑–∞–≥–æ–ª–æ–≤–∫–∏ –∏ —Ç–µ–∫—Å—Ç –Ω–∞ –±–µ–ª–æ–º —Ñ–æ–Ω–µ */
      --standard-text-main: #fffffe;      /* White - header text */
      --standard-text-light: #fffffe;     /* White - subtitle */
      --standard-card-text: #000000;      /* Black - lesson title */
      --standard-card-text-light: #323232; /* Gray - lesson time */
      --standard-odd-card-accent: #ff2f00;    /* Orange - room number ODD */
      --standard-odd-card-day-title: #ff2f00; /* Orange - day title ODD */
      --standard-even-card-accent: #6555f0;   /* Purple - room number EVEN */
      --standard-even-card-day-title: #6555f0; /* Purple - day title EVEN */
      --standard-badge-time: #fffffe;     /* White - badge time text */
      
      /* LIGHT: —Ç—ë–º–Ω—ã–π —Ç–µ–∫—Å—Ç –Ω–∞ —Å–≤–µ—Ç–ª–æ–º —Ñ–æ–Ω–µ */
      --light-text-main: #232323;         /* Dark Grey 2 - header text */
      --light-text-light: #232323;        /* Dark Grey 2 - subtitle */
      --light-card-text: #323232;         /* Light Grey - lesson title */
      --light-card-text-light: #323232;   /* Light Grey - lesson time */
      --light-odd-card-accent: #ff2f00;       /* Orange - room number */
      --light-odd-card-day-title: #078080;    /* Emerald - day title */
      --light-even-card-accent: #ff2f00;      /* Orange - room number */
      --light-even-card-day-title: #078080;   /* Emerald - day title */
      --light-badge-time: #fffffe;        /* White - badge time text */
      
      /* DARK: –±–µ–ª—ã–π —Ç–µ–∫—Å—Ç –Ω–∞ —Ç—ë–º–Ω–æ–º —Ñ–æ–Ω–µ */
      --dark-text-main: #fffffe;          /* White - header text */
      --dark-text-light: #fffffe;         /* White - subtitle */
      --dark-card-text: #fffffe;          /* White - lesson title */
      --dark-card-text-light: #e1e5ea;    /* Light Grey 2 - lesson time */
      --dark-odd-card-accent: #776aef;        /* Vibe Purple - room number */
      --dark-odd-card-day-title: #fffffe;     /* White - day title */
      --dark-even-card-accent: #776aef;       /* Vibe Purple - room number */
      --dark-even-card-day-title: #fffffe;    /* White - day title */
      --dark-badge-time: #16161a;         /* Dark Grey - badge time text */
      
      /* CLASSIC: –±–µ–ª—ã–π —Ç–µ–∫—Å—Ç –Ω–∞ —Å–∏–Ω–µ–º —Ñ–æ–Ω–µ */
      --classic-text-main: #fffffe;       /* White - header text */
      --classic-text-light: #fffffe;      /* White - subtitle */
      --classic-card-text: #fffffe;       /* White - lesson title */
      --classic-card-text-light: #fffffe; /* White - lesson time */
      --classic-odd-card-accent: #fffffe;     /* White - room number */
      --classic-odd-card-day-title: #fffffe;  /* White - day title */
      --classic-even-card-accent: #fffffe;    /* White - room number */
      --classic-even-card-day-title: #fffffe; /* White - day title */
      --classic-badge-time: #243c6a;      /* Deep Blue - badge time text */
      
      /* COFFEE: –∫–æ—Ñ–µ–π–Ω—ã–µ –æ—Ç—Ç–µ–Ω–∫–∏ –Ω–∞ —Å–≤–µ—Ç–ª–æ–º —Ñ–æ–Ω–µ */
      --coffee-text-main: #020826;        /* Deep Dark Blue - header text */
      --coffee-text-light: #020826;       /* Deep Dark Blue - subtitle */
      --coffee-card-text: #716040;        /* Coffee - lesson title */
      --coffee-card-text-light: #716040;  /* Coffee - lesson time */
      --coffee-odd-card-accent: #8c7851;      /* Light Coffee - room number */
      --coffee-odd-card-day-title: #392e19;   /* Dark Coffee - day title */
      --coffee-even-card-accent: #8c7851;     /* Light Coffee - room number */
      --coffee-even-card-day-title: #392e19;  /* Dark Coffee - day title */
      --coffee-badge-time: #fffffe;       /* White - badge time text */

      /* –í—ã–±–æ—Ä —Ç–µ–º—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ */
      {% set theme_prefix = user_theme if user_theme else 'standard' %}
      {% set odd_bg = theme_prefix + '-odd-bg' %}
      {% set odd_accent = theme_prefix + '-odd-accent' %}
      {% set odd_badge = theme_prefix + '-odd-badge-bg' %}
      {% set odd_card_bg = theme_prefix + '-odd-card-bg' %}
      {% set even_bg = theme_prefix + '-even-bg' %}
      {% set even_accent = theme_prefix + '-even-accent' %}
      {% set even_badge = theme_prefix + '-even-badge-bg' %}
      {% set even_card_bg = theme_prefix + '-even-card-bg' %}
      {% set text_main_key = theme_prefix + '-text-main' %}
      {% set text_light_key = theme_prefix + '-text-light' %}
      {% set card_text_key = theme_prefix + '-card-text' %}
      {% set card_text_light_key = theme_prefix + '-card-text-light' %}
      {% set odd_card_accent_key = theme_prefix + '-odd-card-accent' %}
      {% set even_card_accent_key = theme_prefix + '-even-card-accent' %}
      {% set odd_card_day_title_key = theme_prefix + '-odd-card-day-title' %}
      {% set even_card_day_title_key = theme_prefix + '-even-card-day-title' %}
      {% set badge_time_key = theme_prefix + '-badge-time' %}

      /* –ó–¥–µ—Å—å, —Å –ø–æ–º–æ—â—å—é —à–∞–±–ª–æ–Ω–∏–∑–∞—Ç–æ—Ä–∞ Jinja, –º—ã –≤—ã–±–∏—Ä–∞–µ–º –Ω—É–∂–Ω—É—é –ø–∞–ª–∏—Ç—Ä—É –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–∏–ø–∞ –Ω–µ–¥–µ–ª–∏. */
      /* –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –º–µ–Ω—è—Ç—å –≤—Å—é —Ç–µ–º—É —Å–∞–π—Ç–∞, –ø—Ä–æ—Å—Ç–æ –º–µ–Ω—è—è 'week_slug' –≤ –¥–∞–Ω–Ω—ã—Ö. */
      --color-bg: {{ 'var(--' + odd_bg + ')' if week_slug == 'odd' else 'var(--' + even_bg + ')' }};
      --color-accent: {{ 'var(--' + odd_accent + ')' if week_slug == 'odd' else 'var(--' + even_accent + ')' }};
      --color-badge-bg: {{ 'var(--' + odd_badge + ')' if week_slug == 'odd' else 'var(--' + even_badge + ')' }};
      --color-card-bg: {{ 'var(--' + odd_card_bg + ')' if week_slug == 'odd' else 'var(--' + even_card_bg + ')' }};

      /* –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —Ü–≤–µ—Ç–æ–≤ (–∑–∞–≤–∏—Å—è—Ç –æ—Ç —Ç–µ–º—ã) */
      --text-main: {{ 'var(--' + text_main_key + ')' }};
      --text-light: {{ 'var(--' + text_light_key + ')' }};
      --text-white: #fffffe;              /* White */
      
      /* –¶–≤–µ—Ç–∞ —Ç–µ–∫—Å—Ç–∞ –≤–Ω—É—Ç—Ä–∏ –∫–∞—Ä—Ç–æ—á–µ–∫ (–∑–∞–≤–∏—Å—è—Ç –æ—Ç —Ç–µ–º—ã –ò –Ω–µ–¥–µ–ª–∏) */
      --card-text-main: {{ 'var(--' + card_text_key + ')' }};
      --card-text-light: {{ 'var(--' + card_text_light_key + ')' }};
      --card-text-accent: {{ 'var(--' + odd_card_accent_key + ')' if week_slug == 'odd' else 'var(--' + even_card_accent_key + ')' }};
      --card-day-title: {{ 'var(--' + odd_card_day_title_key + ')' if week_slug == 'odd' else 'var(--' + even_card_day_title_key + ')' }};
      --badge-time-color: {{ 'var(--' + badge_time_key + ')' }};
    }

    /* --- 3. –ë–∞–∑–æ–≤—ã–µ —Å—Ç–∏–ª–∏ –∏ —Å–±—Ä–æ—Å --- */
    /* –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π —Å–µ–ª–µ–∫—Ç–æ—Ä (*) –¥–ª—è —Å–±—Ä–æ—Å–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö –æ—Ç—Å—Ç—É–ø–æ–≤ —É –≤—Å–µ—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤. */
    /* box-sizing: border-box; ‚Äî –∫–ª—é—á–µ–≤–æ–µ –ø—Ä–∞–≤–∏–ª–æ, —á—Ç–æ–±—ã padding –∏ border –Ω–µ —É–≤–µ–ª–∏—á–∏–≤–∞–ª–∏ –∏—Ç–æ–≥–æ–≤—ã–π —Ä–∞–∑–º–µ—Ä —ç–ª–µ–º–µ–Ω—Ç–∞. */
    * { box-sizing: border-box; margin: 0; padding: 0; }

    /* –•–∏—Ç—Ä–æ—Å—Ç—å –¥–ª—è —É–¥–æ–±–Ω–æ–≥–æ –ø–µ—Ä–µ–≤–æ–¥–∞ px –≤ rem: 16px (—Å—Ç–∞–Ω–¥–∞—Ä—Ç) * 62.5% = 10px. */
    /* –¢–µ–ø–µ—Ä—å 1rem = 10px, —á—Ç–æ —É–ø—Ä–æ—â–∞–µ—Ç –≤—ë—Ä—Å—Ç–∫—É –ø–æ –º–∞–∫–µ—Ç—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, 40px = 4rem). */
    html { font-size: 62.5%; }

    /* –ó–∞–¥–∞—ë–º —Ñ–æ–Ω, –æ—Å–Ω–æ–≤–Ω–æ–π —à—Ä–∏—Ñ—Ç*/
    body {
      font-family: 'Segoe UI', sans-serif;
      background-color: var(--color-bg);
      background-image: url('{{ bg_image }}');
      background-position: center;
      background-size: cover;
      background-repeat: no-repeat;
      display: flex;
      justify-content: center; /* –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ –ø–æ —Ü–µ–Ω—Ç—Ä—É */
      align-items: center;      /* –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ –ø–æ —Ü–µ–Ω—Ç—Ä—É */
      min-height: 100vh;
      margin: 0;
      padding: 0;
    }

    /* --- 4. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–∞–∫–µ—Ç–∞ --- */

    /* –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É—é —à–∏—Ä–∏–Ω—É –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –∏ –≤—ã—Å—Ç—Ä–∞–∏–≤–∞–µ–º –µ–≥–æ —ç–ª–µ–º–µ–Ω—Ç—ã (–∑–∞–≥–æ–ª–æ–≤–æ–∫ –∏ —Å–µ—Ç–∫—É) –≤ –∫–æ–ª–æ–Ω–∫—É. */
    .content-wrapper {
      padding: 10rem; /* –†–∞–∑—É–º–Ω—ã–µ –æ—Ç—Å—Ç—É–ø—ã –ø–æ 100px —Å–æ –≤—Å–µ—Ö —Å—Ç–æ—Ä–æ–Ω */
      width: 100%;
      max-width: 270rem;
      margin: 0 auto; /* –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω–æ–µ —Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª–∏ */
      display: flex;
      flex-direction: column;
      gap: 9rem;
    }

    /* –°—Ç–∏–ª–∏ –¥–ª—è –≥–ª–∞–≤–Ω–æ–≥–æ –∑–∞–≥–æ–ª–æ–≤–∫–∞ "–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ" –∏ –ø–æ–¥–∑–∞–≥–æ–ª–æ–≤–∫–∞ —Å —Ç–∏–ø–æ–º –Ω–µ–¥–µ–ª–∏. */
    .schedule-header {
      color: var(--text-main);
      display: flex;
      justify-content: space-between;
      align-items: flex-end;
    }
    .schedule-header h1 {
      font-family: 'Saira', sans-serif;
      font-weight: 600;
      font-size: 15.5rem;
      line-height: 1.1;
      letter-spacing: 0.23rem;
    }
    .schedule-header p {
      font-size: 6.4rem;
      font-weight: 400;
      letter-spacing: 0.096rem;
      color: var(--text-light);
    }

    .bot-credit p {
      font-size: 6.4rem;
      font-weight: 400;
      letter-spacing: 0.096rem;
    }

    .group-name{
      font-weight: 700;
    }

    .bot-credit {
      font-size: 3.2rem;
      font-weight: 400;
      letter-spacing: 0.048rem;
      text-align: right;
      color: var(--text-main);
      opacity: 0.8;
    }

    /* –û—Å–Ω–æ–≤–Ω–∞—è —Å–µ—Ç–∫–∞ –¥–ª—è –∫–∞—Ä—Ç–æ—á–µ–∫ —Å –¥–Ω—è–º–∏. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤ –æ–¥–Ω—É –∫–æ–ª–æ–Ω–∫—É. */
    /* –ù–∞ –±–æ–ª—å—à–∏—Ö —ç–∫—Ä–∞–Ω–∞—Ö –æ–Ω–∞ —Å—Ç–∞–Ω–µ—Ç –¥–≤—É—Ö–∫–æ–ª–æ–Ω–æ—á–Ω–æ–π (—Å–º. –º–µ–¥–∏–∞-–∑–∞–ø—Ä–æ—Å—ã –≤ –∫–æ–Ω—Ü–µ). */
    .days-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 6.5rem;
      width: 100%;
    }

    /* --- 5. –°—Ç–∏–ª–∏–∑–∞—Ü–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ --- */

    /* –°—Ç–∏–ª–∏ —Å–∞–º–æ–π –∫–∞—Ä—Ç–æ—á–∫–∏: —Ñ–æ–Ω, —Å–∫—Ä—É–≥–ª–µ–Ω–∏—è, –æ—Ç—Å—Ç—É–ø—ã. */
    /* position: relative; ‚Äî –Ω—É–∂–Ω–æ, —á—Ç–æ–±—ã –∞–±—Å–æ–ª—é—Ç–Ω–æ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –ø–ª–∞—à–∫—É —Å –≤—Ä–µ–º–µ–Ω–µ–º. */
    /* display: flex; flex-direction: column; ‚Äî –≤—ã—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –∫–æ–Ω—Ç–µ–Ω—Ç –∫–∞—Ä—Ç–æ—á–∫–∏ –≤ –∫–æ–ª–æ–Ω–∫—É. */
    /* justify-content: center; ‚Äî –í–ï–†–¢–ò–ö–ê–õ–¨–ù–û –¶–ï–ù–¢–†–ò–†–£–ï–¢ –∫–æ–Ω—Ç–µ–Ω—Ç, –µ—Å–ª–∏ –µ–≥–æ –º–∞–ª–æ (–∫–∞–∫ –≤–æ –í—Ç–æ—Ä–Ω–∏–∫). */
    .day-card {
      position: relative;
      background: var(--color-card-bg);
      border-radius: 4rem;
      padding: 4.5rem 8rem;
      display: flex;
      flex-direction: column;
      justify-content: center;
      min-height: 52rem;
    }

    /* –ó–∞–≥–æ–ª–æ–≤–æ–∫ –¥–Ω—è –Ω–µ–¥–µ–ª–∏ (–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫, –í—Ç–æ—Ä–Ω–∏–∫ –∏ —Ç.–¥.). */
    /* margin-bottom –¥–æ–±–∞–≤–ª—è–µ—Ç –Ω—É–∂–Ω—ã–π –æ—Ç—Å—Ç—É–ø –¥–æ —Å–ø–∏—Å–∫–∞ –ø–∞—Ä. */
    .day-title {
      font-weight: 700;
      font-size: 6.4rem;
      letter-spacing: 0.096rem;
      color: var(--card-day-title);
      margin-bottom: 2.5rem; 
    }

    /* –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –≤—Å–µ—Ö —Å—Ç—Ä–æ–∫ —Å –ø–∞—Ä–∞–º–∏. */
    .lessons-list {
      display: flex;
      flex-direction: column;
      gap: 2rem;
    }
    
    /* –ö–ª—é—á–µ–≤–æ–π —ç–ª–µ–º–µ–Ω—Ç: —Å—Ç—Ä–æ–∫–∞ —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –ø–∞—Ä–µ. */
    /* display: grid; ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ–º 12-–∫–æ–ª–æ–Ω–æ—á–Ω—É—é —Å–µ—Ç–∫—É –¥–ª—è —Ç–æ—á–Ω–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—è. */
    .lesson-row {
      display: grid;
      grid-template-columns: repeat(12, 1fr);
      align-items: center;
      gap: 0.5rem;
      font-size: 3.8rem;
      height: 4.7rem;
    }

    /* –ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–µ–¥–º–µ—Ç–∞ */
    .lesson-title {
      grid-column: 1 / 9;
      font-weight: 400;
      color: var(--card-text-main);
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    /* –ù–æ–º–µ—Ä –∞—É–¥–∏—Ç–æ—Ä–∏–∏ */
    .lesson-room {
      grid-column: 9 / 10;
      font-weight: 400;
      color: var(--card-text-accent);
      text-align: left;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      justify-self: start;
      font-size: 3rem;
    }

    /* –í—Ä–µ–º–µ–Ω–Ω–æ–π –∏–Ω—Ç–µ—Ä–≤–∞–ª –ø–∞—Ä—ã */
    .lesson-time {
      grid-column: 11 / 13;
      font-family: 'Segoe UI Light', 'Segoe UI', sans-serif;
      font-weight: 300;
      color: var(--card-text-light);
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      text-align: right;
      justify-self: end;
    }
    
    /* –¢–µ–∫—Å—Ç –¥–ª—è –≤—ã—Ö–æ–¥–Ω–æ–≥–æ –¥–Ω—è. */
    .holiday-text {
        font-size: 3.8rem;
        color: var(--card-day-title);
    }

    /* –ü–ª–∞—à–∫–∞ —Å –≤—Ä–µ–º–µ–Ω–µ–º –ø–µ—Ä–≤–æ–π –ø–∞—Ä—ã. */
    /* position: absolute; ‚Äî "–≤—ã—Ä—ã–≤–∞–µ—Ç" –ø–ª–∞—à–∫—É –∏–∑ –æ–±—â–µ–≥–æ –ø–æ—Ç–æ–∫–∞ –∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ä–∞–∑–º–µ—Å—Ç–∏—Ç—å –µ—ë –≤ —É–≥–ª—É –∫–∞—Ä—Ç–æ—á–∫–∏. */
    /* top: 4.5rem; right: 6rem; ‚Äî –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ .day-card. */
    .badge-first-lesson {
      position: absolute;
      top: 4.5rem;
      right: 6rem;
      display: flex;
      width: 16rem;
      flex-direction: column;
      align-items: center;
    }

    /* –í–µ—Ä—Ö–Ω—è—è —á–∞—Å—Ç—å –ø–ª–∞—à–∫–∏ —Å —Ü–∏—Ñ—Ä–∞–º–∏ –≤—Ä–µ–º–µ–Ω–∏. */
    .badge-time {
      background-color: var(--color-badge-bg);
      color: var(--badge-time-color);
      border-radius: 2rem;
      padding: 1.5rem 3rem;
      font-family: 'Saira', sans-serif;
      font-weight: 700;
      font-size: 4rem;
      line-height: 1;
    }

    /* –ù–∏–∂–Ω—è—è —á–∞—Å—Ç—å –ø–ª–∞—à–∫–∏ —Å —Ç–µ–∫—Å—Ç–æ–º "–ø–µ—Ä–≤–∞—è –ø–∞—Ä–∞". */
    .badge-text {
      font-family: 'Saira', sans-serif;
      font-size: 2.3rem;
      font-weight: 700;
      color: var(--color-badge-bg);
      text-transform: lowercase;
      margin-top: 0.5rem;
    }
    
    /* --- 6. –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å (Responsive Design) --- */
    /* –ü—Ä–∞–≤–∏–ª–∞ –Ω–∏–∂–µ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –Ω–∞ —ç–∫—Ä–∞–Ω–∞—Ö –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–π —à–∏—Ä–∏–Ω—ã. */

    /* –î–ª—è –±–æ–ª—å—à–∏—Ö –¥–µ—Å–∫—Ç–æ–ø–æ–≤ (—à–∏—Ä–∏–Ω–∞ –æ—Ç 1600px): */
    /* –ü–µ—Ä–µ–∫–ª—é—á–∞–µ–º —Å–µ—Ç–∫—É –≤ 2 –∫–æ–ª–æ–Ω–∫–∏. */
    @media (min-width: 1600px) {
      .days-grid {
        grid-template-columns: repeat(2, 1fr);
      }
    }
    
    /* –î–ª—è –ø–ª–∞–Ω—à–µ—Ç–æ–≤ –∏ –Ω–µ–±–æ–ª—å—à–∏—Ö —ç–∫—Ä–∞–Ω–æ–≤ (—à–∏—Ä–∏–Ω–∞ –¥–æ 768px): */
    /* –ü—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª—å–Ω–æ —É–º–µ–Ω—å—à–∞–µ–º –≤—Å–µ —Ä–∞–∑–º–µ—Ä—ã —á–µ—Ä–µ–∑ –±–∞–∑–æ–≤—ã–π font-size. */
    @media (max-width: 768px) {
      html { font-size: 50%; }
      body { padding: 3rem; }
      .content-wrapper { gap: 5rem; }
      .day-card { padding: 3rem 4rem; min-height: 0; } /* –£–±–∏—Ä–∞–µ–º min-height, —á—Ç–æ–±—ã –∫–∞—Ä—Ç–æ—á–∫–∏ –Ω–µ –±—ã–ª–∏ —Å–ª–∏—à–∫–æ–º –≤—ã—Å–æ–∫–∏–º–∏. */
      .schedule-header { flex-direction: column; align-items: flex-start; gap: 2rem; }
      .bot-credit { align-self: flex-end; }
    }

    /* –î–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —Ç–µ–ª–µ—Ñ–æ–Ω–æ–≤ (—à–∏—Ä–∏–Ω–∞ –¥–æ 480px): */
    @media (max-width: 480px) {
      /* –ï—â—ë –±–æ–ª—å—à–µ —É–º–µ–Ω—å—à–∞–µ–º —Ä–∞–∑–º–µ—Ä—ã. */
      html { font-size: 40%; }
      body { padding: 2rem; }
      .day-card { padding: 3rem; }
      /* –ü–ª–∞—à–∫–∞ —Å –≤—Ä–µ–º–µ–Ω–µ–º —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —á–∞—Å—Ç—å—é –ø–æ—Ç–æ–∫–∞, –∞ –Ω–µ –≤–∏—Å–∏—Ç —Å–±–æ–∫—É. */
      .badge-first-lesson { position: static; margin-bottom: 2rem; align-self: flex-start; }
      /* –í —Å—Ç—Ä–æ–∫–µ —Å –ø–∞—Ä–æ–π —Å–∫—Ä—ã–≤–∞–µ–º –∫–∞–±–∏–Ω–µ—Ç, —á—Ç–æ–±—ã –Ω–µ –ª–æ–º–∞—Ç—å –≤—ë—Ä—Å—Ç–∫—É. */
      .lesson-room { display: none; }
      .lesson-title { grid-column: 1 / 11; }
      .lesson-time { grid-column: 11 / 13; }
      .schedule-header { flex-direction: column; align-items: flex-start; gap: 1.5rem; }
      .bot-credit { align-self: flex-end; font-size: 2.8rem; }
    }
  </style>
</head>
<body>
  <div class="content-wrapper">
    <header class="schedule-header">
      <div>
        <h1>–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ</h1>
        <p>{{ '–ù–µ—á—ë—Ç–Ω–∞—è –Ω–µ–¥–µ–ª—è' if week_slug=='odd' else '–ß—ë—Ç–Ω–∞—è –Ω–µ–¥–µ–ª—è' }}: <span class="group-name">{{ group }}</span></p>
      </div>
      <div class="bot-credit">
        <p>–°–¥–µ–ª–∞–Ω–æ –≤ <span class="group-name">@bstu_timetable_bot</span></p>
      </div>
    </header>
    <section class="days-grid">
      {% for day in schedule_days %}
      <article class="day-card">
        <div class="badge-first-lesson {% if not day.lessons %}hidden{% endif %}">
          <div class="badge-time">{{ day.firstStart }}</div>
          <div class="badge-text">–ø–µ—Ä–≤–∞—è –ø–∞—Ä–∞</div>
        </div>
        <div>
            <h2 class="day-title">{{ day.name }}</h2>
            {% if day.lessons %}
              <div class="lessons-list">
                {% for l in day.lessons %}
                <div class="lesson-row">
                  <div class="lesson-title" title="{{ l.title }}">{{ l.title }}</div>
                  <div class="lesson-room">{{ l.room }}</div>
                  <div class="lesson-time">{{ l.time }}</div>
                </div>
                {% endfor %}
              </div>
            {% else %}
              <p class="holiday-text">
                –í—ã—Ö–æ–¥–Ω–æ–π, –ø–∞—Ä –Ω–µ—Ç
              </p>
            {% endif %}
        </div>
      </article>
      {% endfor %}
    </section>
  </div>
  <style>.hidden { display: none; }</style>
  <script>
    (function () {
      function setRem(el, value) { el.style.fontSize = value.toFixed(2) + 'rem'; }
      function fitRow(row) {
        var room = row.querySelector('.lesson-room');
        var time = row.querySelector('.lesson-time');
        if (!room || !time) return;

        // –ë–∞–∑–æ–≤—ã–µ —Ä–∞–∑–º–µ—Ä—ã –≤ rem (—É –Ω–∞—Å 1rem ‚âà 10px)
        var minRoom = 2.2;   // –º–∏–Ω–∏–º—É–º –¥–ª—è –∫–∞–±–∏–Ω–µ—Ç–∞
        var minTime = 3.0;   // –º–∏–Ω–∏–º—É–º –¥–ª—è –≤—Ä–µ–º–µ–Ω–∏
        var roomRem = parseFloat(getComputedStyle(room).fontSize) / 10;
        var timeRem = parseFloat(getComputedStyle(time).fontSize) / 10;

        var safety = 40;
        while (safety-- > 0) {
          var rr = room.getBoundingClientRect();
          var tr = time.getBoundingClientRect();

          var roomFits = room.scrollWidth <= room.clientWidth;
          var timeFits = time.scrollWidth <= time.clientWidth;
          var noOverlap = rr.right + 8 <= tr.left; // 8px –±—É—Ñ–µ—Ä –º–µ–∂–¥—É —Å—Ç–æ–ª–±—Ü–∞–º–∏

          if (roomFits && timeFits && noOverlap) break;

          if (!roomFits || (!noOverlap && roomRem > minRoom)) {
            if (roomRem > minRoom) { roomRem -= 0.1; setRem(room, roomRem); continue; }
          }
          if (!timeFits || (!noOverlap && timeRem > minTime)) {
            if (timeRem > minTime) { timeRem -= 0.1; setRem(time, timeRem); continue; }
          }
          // –ë–æ–ª—å—à–µ —É–º–µ–Ω—å—à–∞—Ç—å –Ω–µ–ª—å–∑—è ‚Äî –≤—ã—Ö–æ–¥–∏–º
          break;
        }
      }

      function runFit() {
        var rows = document.querySelectorAll('.lesson-row');
        rows.forEach(fitRow);
      }

      if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', function () { requestAnimationFrame(runFit); });
      } else {
        requestAnimationFrame(runFit);
      }

      // –≠–∫—Å–ø–æ—Ä—Ç –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –≤—ã–∑–æ–≤–∞ (Playwright –º–æ–∂–µ—Ç –¥–µ—Ä–Ω—É—Ç—å –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏)
      window.__fitScheduleTexts = runFit;
    })();
  </script>
</body>
</html>